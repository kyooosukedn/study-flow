<div class="register-container">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      <h2>Create Account</h2>
      
      @if (error) {
        <div class="alert alert-danger">
          {{ error }}
        </div>
      }
  
      <div class="name-group">
        <!-- First Name -->
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input 
            type="text" 
            id="firstName" 
            formControlName="firstName" 
            class="form-control"
            [class.is-invalid]="firstName?.invalid && firstName?.touched"
            placeholder="Enter first name">
          
          @if (firstName?.invalid && firstName?.touched) {
            <div class="invalid-feedback">
              @if (firstName?.errors?.['required']) {
                <span>First name is required</span>
              }
              @if (firstName?.errors?.['minlength']) {
                <span>First name must be at least 2 characters</span>
              }
            </div>
          }
        </div>
  
        <!-- Last Name -->
        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input 
            type="text" 
            id="lastName" 
            formControlName="lastName" 
            class="form-control"
            [class.is-invalid]="lastName?.invalid && lastName?.touched"
            placeholder="Enter last name">
          
          @if (lastName?.invalid && lastName?.touched) {
            <div class="invalid-feedback">
              @if (lastName?.errors?.['required']) {
                <span>Last name is required</span>
              }
              @if (lastName?.errors?.['minlength']) {
                <span>Last name must be at least 2 characters</span>
              }
            </div>
          }
        </div>
      </div>
  
      <!-- Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email" 
          class="form-control"
          [class.is-invalid]="email?.invalid && email?.touched"
          placeholder="Enter your email">
        
        @if (email?.invalid && email?.touched) {
          <div class="invalid-feedback">
            @if (email?.errors?.['required']) {
              <span>Email is required</span>
            }
            @if (email?.errors?.['email']) {
              <span>Please enter a valid email</span>
            }
          </div>
        }
      </div>
  
      <!-- Password -->
      <div class="form-group">
        <label for="password">Password</label>
        <input 
          type="password" 
          id="password" 
          formControlName="password" 
          class="form-control"
          [class.is-invalid]="password?.invalid && password?.touched"
          placeholder="Create password">
        
        @if (password?.invalid && password?.touched) {
          <div class="invalid-feedback">
            @if (password?.errors?.['required']) {
              <span>Password is required</span>
            }
            @if (password?.errors?.['minlength']) {
              <span>Password must be at least 6 characters</span>
            }
          </div>
        }
      </div>
  
      <!-- Confirm Password -->
      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input 
          type="password" 
          id="confirmPassword" 
          formControlName="confirmPassword" 
          class="form-control"
          [class.is-invalid]="(confirmPassword?.invalid || registerForm.hasError('mismatch')) && confirmPassword?.touched"
          placeholder="Confirm your password">
        
        @if ((confirmPassword?.invalid || registerForm.hasError('mismatch')) && confirmPassword?.touched) {
          <div class="invalid-feedback">
            @if (confirmPassword?.errors?.['required']) {
              <span>Please confirm your password</span>
            }
            @if (registerForm.hasError('mismatch')) {
              <span>Passwords do not match</span>
            }
          </div>
        }
      </div>
  
      <!-- Submit Button -->
      <button 
        type="submit" 
        class="btn btn-primary w-100" 
        [disabled]="registerForm.invalid || isLoading">
        {{ isLoading ? 'Creating Account...' : 'Create Account' }}
      </button>
  
      <!-- Login Link -->
      <p class="text-center mt-3">
        Already have an account? 
        <a routerLink="/auth/login">Login here</a>
      </p>
    </form>
  </div>